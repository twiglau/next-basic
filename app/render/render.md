# Rendering 渲染模式说明

## 问题记录：为什么 /render 页面打包后是动态渲染 (`ƒ`)？

在 Next.js 中，即使页面内容看起来是静态的（如仅包含 `new Date()`），它也可能被识别为 **动态渲染 (Dynamic Rendering)**。

### 主要原因

1. **根布局 (Root Layout) 的影响**
   - 项目在 `app/layout.tsx` 中使用了 `AuthProvider` 和 `NaviBar`。
   - 如果布局中调用了动态函数（如 `cookies()`、`headers()`）或使用了 Next-Auth 的服务端 Session 获取逻辑，Next.js 会强制所有子页面进入动态渲染模式，以便在每次请求时都能传递正确的上下文信息。

2. **动态函数识别**
   - 构建日志中显示的 `ƒ (Dynamic)` 符号表示该路由在请求时渲染。这是因为布局层级已经打破了静态生成的条件。

### 如何强制静态渲染？

如果你希望该页面作为静态页面打包（仅在构建时生成一次），可以在 `page.tsx` 中添加：

```tsx
export const dynamic = "force-static";
```

**说明：** 使用此选项后，页面中的 `new Date()` 将固定在 **构建时** 的时间，刷新页面不会更新，直到下一次重新打包。

### 总结

在当前项目中，由于全局布局的存在，大部分页面默认被识别为动态渲染。这是 Next.js 为了确保 Session 和请求头信息准确的一种正常行为。
